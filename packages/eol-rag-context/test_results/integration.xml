<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="3" failures="39" skipped="0" tests="52" time="4.511" timestamp="2025-08-10T22:05:55.040855+02:00" hostname="MacBookPro.lan"><testcase classname="tests.integration.test_document_processing_integration.TestDocumentProcessingIntegration" name="test_process_text_file" time="0.020"><failure message="AssertionError: assert 'metadata' in {'content': 'This is a test document.\nIt contains multiple lines of text.\nEach line has some information.\n\nThis is a new paragraph after a blank line.\nIt should be properly processed and chunked.', 'tokens': 32, 'type': 'semantic'}">tests/integration/test_document_processing_integration.py:42: in test_process_text_file
    assert "metadata" in chunk
E   AssertionError: assert 'metadata' in {'content': 'This is a test document.\nIt contains multiple lines of text.\nEach line has some information.\n\nThis is a new paragraph after a blank line.\nIt should be properly processed and chunked.', 'tokens': 32, 'type': 'semantic'}</failure></testcase><testcase classname="tests.integration.test_document_processing_integration.TestDocumentProcessingIntegration" name="test_process_markdown_file" time="0.112"><failure message="assert False">tests/integration/test_document_processing_integration.py:90: in test_process_markdown_file
    assert headers_found
E   assert False</failure></testcase><testcase classname="tests.integration.test_document_processing_integration.TestDocumentProcessingIntegration" name="test_process_python_file" time="0.012"><failure message="AssertionError: assert 'text' == 'code'&#10;  &#10;  #x1B[0m#x1B[91m- code#x1B[39;49;00m#x1B[90m#x1B[39;49;00m&#10;  #x1B[92m+ text#x1B[39;49;00m#x1B[90m#x1B[39;49;00m">tests/integration/test_document_processing_integration.py:139: in test_process_python_file
    assert doc.doc_type == "code"
E   AssertionError: assert 'text' == 'code'
E     
E     #x1B[0m#x1B[91m- code#x1B[39;49;00m#x1B[90m#x1B[39;49;00m
E     #x1B[92m+ text#x1B[39;49;00m#x1B[90m#x1B[39;49;00m</failure></testcase><testcase classname="tests.integration.test_document_processing_integration.TestDocumentProcessingIntegration" name="test_process_json_file" time="0.007"><failure message="AssertionError: assert 'json' == 'structured'&#10;  &#10;  #x1B[0m#x1B[91m- structured#x1B[39;49;00m#x1B[90m#x1B[39;49;00m&#10;  #x1B[92m+ json#x1B[39;49;00m#x1B[90m#x1B[39;49;00m">tests/integration/test_document_processing_integration.py:180: in test_process_json_file
    assert doc.doc_type == "structured"
E   AssertionError: assert 'json' == 'structured'
E     
E     #x1B[0m#x1B[91m- structured#x1B[39;49;00m#x1B[90m#x1B[39;49;00m
E     #x1B[92m+ json#x1B[39;49;00m#x1B[90m#x1B[39;49;00m</failure></testcase><testcase classname="tests.integration.test_document_processing_integration.TestDocumentProcessingIntegration" name="test_process_javascript_file" time="0.009"><failure message="AssertionError: assert 'text' == 'code'&#10;  &#10;  #x1B[0m#x1B[91m- code#x1B[39;49;00m#x1B[90m#x1B[39;49;00m&#10;  #x1B[92m+ text#x1B[39;49;00m#x1B[90m#x1B[39;49;00m">tests/integration/test_document_processing_integration.py:231: in test_process_javascript_file
    assert doc.doc_type == "code"
E   AssertionError: assert 'text' == 'code'
E     
E     #x1B[0m#x1B[91m- code#x1B[39;49;00m#x1B[90m#x1B[39;49;00m
E     #x1B[92m+ text#x1B[39;49;00m#x1B[90m#x1B[39;49;00m</failure></testcase><testcase classname="tests.integration.test_document_processing_integration.TestDocumentProcessingIntegration" name="test_chunking_strategies" time="0.014"><failure message="AssertionError: assert 1 &gt; 1&#10; +  where 1 = len([{'content': 'Line 0: word word word word word word word word word word word word word word word word word word word word \nLine 1: word word word word word word word word word word word word word word word word word word word word \nLine 2: word word word word word word word word word word word word word word word word word word word word \nLine 3: word word word word word word word word word word word word word word word word word word word word \nLine 4: word word word word word word word word word word word word word word word word word word word word \nLine 5: word word word word word word word word word word word word word word word word word word word word \nLine 6: word word word word word word word word word word word word word word word word word word word word \nLine 7: word word word word word word word word word word word word word word word word word word word word \nLine 8: word word word word word word word word word word word word word word word word word word word word \nLine 9: word word word word word word word word word word word word word word word word word word word word \nLine 10: word word word word word word word word word word word word word word word ...word word word word word word word word word word \nLine 90: word word word word word word word word word word word word word word word word word word word word \nLine 91: word word word word word word word word word word word word word word word word word word word word \nLine 92: word word word word word word word word word word word word word word word word word word word word \nLine 93: word word word word word word word word word word word word word word word word word word word word \nLine 94: word word word word word word word word word word word word word word word word word word word word \nLine 95: word word word word word word word word word word word word word word word word word word word word \nLine 96: word word word word word word word word word word word word word word word word word word word word \nLine 97: word word word word word word word word word word word word word word word word word word word word \nLine 98: word word word word word word word word word word word word word word word word word word word word \nLine 99: word word word word word word word word word word word word word word word word word word word word ', 'tokens': 2200, 'type': 'semantic'}])&#10; +    where [{'content': 'Line 0: word word word word word word word word word word word word word word word word word word word word \nLine 1: word word word word word word word word word word word word word word word word word word word word \nLine 2: word word word word word word word word word word word word word word word word word word word word \nLine 3: word word word word word word word word word word word word word word word word word word word word \nLine 4: word word word word word word word word word word word word word word word word word word word word \nLine 5: word word word word word word word word word word word word word word word word word word word word \nLine 6: word word word word word word word word word word word word word word word word word word word word \nLine 7: word word word word word word word word word word word word word word word word word word word word \nLine 8: word word word word word word word word word word word word word word word word word word word word \nLine 9: word word word word word word word word word word word word word word word word word word word word \nLine 10: word word word word word word word word word word word word word word word ...word word word word word word word word word word \nLine 90: word word word word word word word word word word word word word word word word word word word word \nLine 91: word word word word word word word word word word word word word word word word word word word word \nLine 92: word word word word word word word word word word word word word word word word word word word word \nLine 93: word word word word word word word word word word word word word word word word word word word word \nLine 94: word word word word word word word word word word word word word word word word word word word word \nLine 95: word word word word word word word word word word word word word word word word word word word word \nLine 96: word word word word word word word word word word word word word word word word word word word word \nLine 97: word word word word word word word word word word word word word word word word word word word word \nLine 98: word word word word word word word word word word word word word word word word word word word word \nLine 99: word word word word word word word word word word word word word word word word word word word word ', 'tokens': 2200, 'type': 'semantic'}] = ProcessedDocument(file_path=PosixPath('/var/folders/7s/rtpwblkj7gl9ct0zg8481g_40000gn/T/tmpub_wlvzh.txt'), content='Line 0: word word word word word word word word word word word word word word word word word word word word \nLine 1: word word word word word word word word word word word word word word word word word word word word \nLine 2: word word word word word word word word word word word word word word word word word word word word \nLine 3: word word word word word word word word word word word word word word word word word word word word \nLine 4: word word word word word word word word word word word word word word word word word word word word \nLine 5: word word word word word word word word word word word word word word word word word word word word \nLine 6: word word word word word word word word word word word word word word word word word word word word \nLine 7: word word word word word word word word word word word word word word word word word word word word \nLine 8: word word word word word word word word word word word word word word word word word word word word \nLine 9: word word word word word word word word word word word word word word word word word...ord word word word word word word \nLine 90: word word word word word word word word word word word word word word word word word word word word \nLine 91: word word word word word word word word word word word word word word word word word word word word \nLine 92: word word word word word word word word word word word word word word word word word word word word \nLine 93: word word word word word word word word word word word word word word word word word word word word \nLine 94: word word word word word word word word word word word word word word word word word word word word \nLine 95: word word word word word word word word word word word word word word word word word word word word \nLine 96: word word word word word word word word word word word word word word word word word word word word \nLine 97: word word word word word word word word word word word word word word word word word word word word \nLine 98: word word word word word word word word word word word word word word word word word word word word \nLine 99: word word word word word word word word word word word word word word word word word word word word ', 'type': 'semantic', 'tokens': 2200}], language=None).chunks">tests/integration/test_document_processing_integration.py:257: in test_chunking_strategies
    assert len(doc.chunks) &gt; 1  # Should be chunked
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AssertionError: assert 1 &gt; 1
E    +  where 1 = len([{'content': 'Line 0: word word word word word word word word word word word word word word word word word word word word \nLine 1: word word word word word word word word word word word word word word word word word word word word \nLine 2: word word word word word word word word word word word word word word word word word word word word \nLine 3: word word word word word word word word word word word word word word word word word word word word \nLine 4: word word word word word word word word word word word word word word word word word word word word \nLine 5: word word word word word word word word word word word word word word word word word word word word \nLine 6: word word word word word word word word word word word word word word word word word word word word \nLine 7: word word word word word word word word word word word word word word word word word word word word \nLine 8: word word word word word word word word word word word word word word word word word word word word \nLine 9: word word word word word word word word word word word word word word word word word word word word \nLine 10: word word word word word word word word word word word word word word word ...word word word word word word word word word word \nLine 90: word word word word word word word word word word word word word word word word word word word word \nLine 91: word word word word word word word word word word word word word word word word word word word word \nLine 92: word word word word word word word word word word word word word word word word word word word word \nLine 93: word word word word word word word word word word word word word word word word word word word word \nLine 94: word word word word word word word word word word word word word word word word word word word word \nLine 95: word word word word word word word word word word word word word word word word word word word word \nLine 96: word word word word word word word word word word word word word word word word word word word word \nLine 97: word word word word word word word word word word word word word word word word word word word word \nLine 98: word word word word word word word word word word word word word word word word word word word word \nLine 99: word word word word word word word word word word word word word word word word word word word word ', 'tokens': 2200, 'type': 'semantic'}])
E    +    where [{'content': 'Line 0: word word word word word word word word word word word word word word word word word word word word \nLine 1: word word word word word word word word word word word word word word word word word word word word \nLine 2: word word word word word word word word word word word word word word word word word word word word \nLine 3: word word word word word word word word word word word word word word word word word word word word \nLine 4: word word word word word word word word word word word word word word word word word word word word \nLine 5: word word word word word word word word word word word word word word word word word word word word \nLine 6: word word word word word word word word word word word word word word word word word word word word \nLine 7: word word word word word word word word word word word word word word word word word word word word \nLine 8: word word word word word word word word word word word word word word word word word word word word \nLine 9: word word word word word word word word word word word word word word word word word word word word \nLine 10: word word word word word word word word word word word word word word word ...word word word word word word word word word word \nLine 90: word word word word word word word word word word word word word word word word word word word word \nLine 91: word word word word word word word word word word word word word word word word word word word word \nLine 92: word word word word word word word word word word word word word word word word word word word word \nLine 93: word word word word word word word word word word word word word word word word word word word word \nLine 94: word word word word word word word word word word word word word word word word word word word word \nLine 95: word word word word word word word word word word word word word word word word word word word word \nLine 96: word word word word word word word word word word word word word word word word word word word word \nLine 97: word word word word word word word word word word word word word word word word word word word word \nLine 98: word word word word word word word word word word word word word word word word word word word word \nLine 99: word word word word word word word word word word word word word word word word word word word word ', 'tokens': 2200, 'type': 'semantic'}] = ProcessedDocument(file_path=PosixPath('/var/folders/7s/rtpwblkj7gl9ct0zg8481g_40000gn/T/tmpub_wlvzh.txt'), content='Line 0: word word word word word word word word word word word word word word word word word word word word \nLine 1: word word word word word word word word word word word word word word word word word word word word \nLine 2: word word word word word word word word word word word word word word word word word word word word \nLine 3: word word word word word word word word word word word word word word word word word word word word \nLine 4: word word word word word word word word word word word word word word word word word word word word \nLine 5: word word word word word word word word word word word word word word word word word word word word \nLine 6: word word word word word word word word word word word word word word word word word word word word \nLine 7: word word word word word word word word word word word word word word word word word word word word \nLine 8: word word word word word word word word word word word word word word word word word word word word \nLine 9: word word word word word word word word word word word word word word word word word...ord word word word word word word \nLine 90: word word word word word word word word word word word word word word word word word word word word \nLine 91: word word word word word word word word word word word word word word word word word word word word \nLine 92: word word word word word word word word word word word word word word word word word word word word \nLine 93: word word word word word word word word word word word word word word word word word word word word \nLine 94: word word word word word word word word word word word word word word word word word word word word \nLine 95: word word word word word word word word word word word word word word word word word word word word \nLine 96: word word word word word word word word word word word word word word word word word word word word \nLine 97: word word word word word word word word word word word word word word word word word word word word \nLine 98: word word word word word word word word word word word word word word word word word word word word \nLine 99: word word word word word word word word word word word word word word word word word word word word ', 'type': 'semantic', 'tokens': 2200}], language=None).chunks</failure></testcase><testcase classname="tests.integration.test_document_processing_integration.TestDocumentProcessingIntegration" name="test_language_detection" time="0.005" /><testcase classname="tests.integration.test_document_processing_integration.TestDocumentProcessingIntegration" name="test_concurrent_processing" time="0.036"><failure message="assert 'json' in ['text', 'code', 'markdown', 'structured', 'html', 'pdf', ...]&#10; +  where 'json' = ProcessedDocument(file_path=PosixPath('/var/folders/7s/rtpwblkj7gl9ct0zg8481g_40000gn/T/tmpyadmkm3w/config.json'), content='\n{\n    &quot;name&quot;: &quot;test-project&quot;,\n    &quot;version&quot;: &quot;1.0.0&quot;,\n    &quot;settings&quot;: {\n        &quot;debug&quot;: true,\n        &quot;timeout&quot;: 30\n    }\n}\n', doc_type='json', metadata={'format': 'json', 'keys': ['name', 'version', 'settings'], 'type': 'dict'}, chunks=[{'content': '{\n  &quot;name&quot;: &quot;test-project&quot;\n}', 'key': 'name', 'type': 'object_field'}, {'content': '{\n  &quot;version&quot;: &quot;1.0.0&quot;\n}', 'key': 'version', 'type': 'object_field'}, {'content': '{\n  &quot;settings&quot;: {\n    &quot;debug&quot;: true,\n    &quot;timeout&quot;: 30\n  }\n}', 'key': 'settings', 'type': 'object_field'}], language=None).doc_type">tests/integration/test_document_processing_integration.py:305: in test_concurrent_processing
    assert doc.doc_type in ["text", "code", "markdown", "structured", "html", "pdf", "docx"]
E   assert 'json' in ['text', 'code', 'markdown', 'structured', 'html', 'pdf', ...]
E    +  where 'json' = ProcessedDocument(file_path=PosixPath('/var/folders/7s/rtpwblkj7gl9ct0zg8481g_40000gn/T/tmpyadmkm3w/config.json'), content='\n{\n    "name": "test-project",\n    "version": "1.0.0",\n    "settings": {\n        "debug": true,\n        "timeout": 30\n    }\n}\n', doc_type='json', metadata={'format': 'json', 'keys': ['name', 'version', 'settings'], 'type': 'dict'}, chunks=[{'content': '{\n  "name": "test-project"\n}', 'key': 'name', 'type': 'object_field'}, {'content': '{\n  "version": "1.0.0"\n}', 'key': 'version', 'type': 'object_field'}, {'content': '{\n  "settings": {\n    "debug": true,\n    "timeout": 30\n  }\n}', 'key': 'settings', 'type': 'object_field'}], language=None).doc_type</failure></testcase><testcase classname="tests.integration.test_document_processing_integration.TestDocumentProcessingIntegration" name="test_error_handling" time="0.004" /><testcase classname="tests.integration.test_full_workflow_integration.TestFullWorkflowIntegration" name="test_index_and_search_workflow" time="0.032"><failure message="TypeError: object dict can't be used in 'await' expression">tests/integration/test_full_workflow_integration.py:28: in test_index_and_search_workflow
    index_result = await indexer_instance.index_folder(temp_test_directory)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/eol/rag_context/indexer.py:302: in index_folder
    existing = await self._get_indexed_source(source_id)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/eol/rag_context/indexer.py:714: in _get_indexed_source
    data = await self.redis.redis.hgetall(source_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: object dict can't be used in 'await' expression</failure></testcase><testcase classname="tests.integration.test_full_workflow_integration.TestFullWorkflowIntegration" name="test_semantic_cache_workflow" time="0.015"><failure message="TypeError: object tuple can't be used in 'await' expression">tests/integration/test_full_workflow_integration.py:65: in test_semantic_cache_workflow
    await semantic_cache_instance.set(query1, response1, metadata1)
src/eol/rag_context/semantic_cache.py:164: in set
    cache_size = await self._get_cache_size()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/eol/rag_context/semantic_cache.py:243: in _get_cache_size
    cursor, keys = await self.redis.redis.scan(
E   TypeError: object tuple can't be used in 'await' expression</failure></testcase><testcase classname="tests.integration.test_full_workflow_integration.TestFullWorkflowIntegration" name="test_knowledge_graph_workflow" time="0.013"><error message="failed on setup with &quot;TypeError: KnowledgeGraphBuilder.__init__() missing 1 required positional argument: 'embedding_manager'&quot;">.venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py:696: in pytest_fixture_setup
    hook_result = yield
                  ^^^^^
.venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py:321: in _async_fixture_wrapper
    result = runner.run(setup(), context=context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py:317: in setup
    res = await fixture_function(*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/integration/conftest.py:212: in knowledge_graph_instance
    return knowledge_graph.KnowledgeGraphBuilder(redis_store)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: KnowledgeGraphBuilder.__init__() missing 1 required positional argument: 'embedding_manager'</error></testcase><testcase classname="tests.integration.test_full_workflow_integration.TestFullWorkflowIntegration" name="test_file_watcher_workflow" time="0.034"><failure message="AttributeError: 'NoneType' object has no attribute 'watch'">tests/integration/test_full_workflow_integration.py:178: in test_file_watcher_workflow
    watch_id = await file_watcher_instance.watch(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'NoneType' object has no attribute 'watch'</failure></testcase><testcase classname="tests.integration.test_full_workflow_integration.TestFullWorkflowIntegration" name="test_hierarchical_rag_workflow" time="0.031"><failure message="TypeError: object dict can't be used in 'await' expression">tests/integration/test_full_workflow_integration.py:229: in test_hierarchical_rag_workflow
    result = await indexer_instance.index_folder(temp_test_directory)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/eol/rag_context/indexer.py:302: in index_folder
    existing = await self._get_indexed_source(source_id)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/eol/rag_context/indexer.py:714: in _get_indexed_source
    data = await self.redis.redis.hgetall(source_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: object dict can't be used in 'await' expression</failure></testcase><testcase classname="tests.integration.test_full_workflow_integration.TestFullWorkflowIntegration" name="test_concurrent_operations" time="0.076" /><testcase classname="tests.integration.test_full_workflow_integration.TestFullWorkflowIntegration" name="test_performance_metrics" time="0.027"><failure message="TypeError: object dict can't be used in 'await' expression">tests/integration/test_full_workflow_integration.py:330: in test_performance_metrics
    index_result = await indexer_instance.index_folder(temp_test_directory)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/eol/rag_context/indexer.py:302: in index_folder
    existing = await self._get_indexed_source(source_id)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/eol/rag_context/indexer.py:714: in _get_indexed_source
    data = await self.redis.redis.hgetall(source_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: object dict can't be used in 'await' expression</failure></testcase><testcase classname="tests.integration.test_indexing_integration.TestIndexingIntegration" name="test_index_single_file" time="0.036"><failure message="redis.exceptions.DataError: Invalid input of type: 'NoneType'. Convert to a bytes, string, int or float first.">tests/integration/test_indexing_integration.py:23: in test_index_single_file
    result = await indexer_instance.index_file(test_file, "test_source_1")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/eol/rag_context/indexer.py:428: in index_file
    chunks_indexed = await self._index_chunks(doc, base_metadata, sections)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/eol/rag_context/indexer.py:649: in _index_chunks
    await self.redis.store_document(vector_doc)
src/eol/rag_context/redis_client.py:242: in store_document
    await self.async_redis.hset(key, mapping=data)
.venv/lib/python3.13/site-packages/redis/asyncio/client.py:677: in execute_command
    return await conn.retry.call_with_retry(
.venv/lib/python3.13/site-packages/redis/asyncio/retry.py:50: in call_with_retry
    return await do()
           ^^^^^^^^^^
.venv/lib/python3.13/site-packages/redis/asyncio/client.py:651: in _send_command_parse_response
    await conn.send_command(*args)
.venv/lib/python3.13/site-packages/redis/asyncio/connection.py:560: in send_command
    self.pack_command(*args), check_health=kwargs.get("check_health", True)
    ^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/redis/asyncio/connection.py:647: in pack_command
    for arg in map(self.encoder.encode, args):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/redis/_parsers/encoders.py:29: in encode
    raise DataError(
E   redis.exceptions.DataError: Invalid input of type: 'NoneType'. Convert to a bytes, string, int or float first.</failure></testcase><testcase classname="tests.integration.test_indexing_integration.TestIndexingIntegration" name="test_index_folder" time="0.027"><failure message="TypeError: object dict can't be used in 'await' expression">tests/integration/test_indexing_integration.py:34: in test_index_folder
    result = await indexer_instance.index_folder(temp_test_directory)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/eol/rag_context/indexer.py:302: in index_folder
    existing = await self._get_indexed_source(source_id)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/eol/rag_context/indexer.py:714: in _get_indexed_source
    data = await self.redis.redis.hgetall(source_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: object dict can't be used in 'await' expression</failure></testcase><testcase classname="tests.integration.test_indexing_integration.TestIndexingIntegration" name="test_hierarchical_indexing" time="0.110"><failure message="redis.exceptions.DataError: Invalid input of type: 'NoneType'. Convert to a bytes, string, int or float first.">tests/integration/test_indexing_integration.py:50: in test_hierarchical_indexing
    result = await indexer_instance.index_file(md_file, "hier_source")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/eol/rag_context/indexer.py:428: in index_file
    chunks_indexed = await self._index_chunks(doc, base_metadata, sections)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/eol/rag_context/indexer.py:649: in _index_chunks
    await self.redis.store_document(vector_doc)
src/eol/rag_context/redis_client.py:242: in store_document
    await self.async_redis.hset(key, mapping=data)
.venv/lib/python3.13/site-packages/redis/asyncio/client.py:677: in execute_command
    return await conn.retry.call_with_retry(
.venv/lib/python3.13/site-packages/redis/asyncio/retry.py:50: in call_with_retry
    return await do()
           ^^^^^^^^^^
.venv/lib/python3.13/site-packages/redis/asyncio/client.py:651: in _send_command_parse_response
    await conn.send_command(*args)
.venv/lib/python3.13/site-packages/redis/asyncio/connection.py:560: in send_command
    self.pack_command(*args), check_health=kwargs.get("check_health", True)
    ^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/redis/asyncio/connection.py:647: in pack_command
    for arg in map(self.encoder.encode, args):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/redis/_parsers/encoders.py:29: in encode
    raise DataError(
E   redis.exceptions.DataError: Invalid input of type: 'NoneType'. Convert to a bytes, string, int or float first.</failure></testcase><testcase classname="tests.integration.test_indexing_integration.TestIndexingIntegration" name="test_folder_scanner" time="0.044"><failure message="AttributeError: 'PosixPath' object has no attribute 'path'. Did you mean: 'match'?">tests/integration/test_indexing_integration.py:81: in test_folder_scanner
    file_paths = [f.path.name for f in files]
                  ^^^^^^
E   AttributeError: 'PosixPath' object has no attribute 'path'. Did you mean: 'match'?</failure></testcase><testcase classname="tests.integration.test_indexing_integration.TestIndexingIntegration" name="test_source_management" time="0.026"><failure message="TypeError: DocumentIndexer.index_folder() got an unexpected keyword argument 'source_id'">tests/integration/test_indexing_integration.py:94: in test_source_management
    result = await indexer_instance.index_folder(
E   TypeError: DocumentIndexer.index_folder() got an unexpected keyword argument 'source_id'</failure></testcase><testcase classname="tests.integration.test_indexing_integration.TestIndexingIntegration" name="test_incremental_indexing" time="0.024"><failure message="TypeError: object dict can't be used in 'await' expression">tests/integration/test_indexing_integration.py:135: in test_incremental_indexing
    result1 = await indexer_instance.index_folder(test_dir)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/eol/rag_context/indexer.py:302: in index_folder
    existing = await self._get_indexed_source(source_id)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/eol/rag_context/indexer.py:714: in _get_indexed_source
    data = await self.redis.redis.hgetall(source_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: object dict can't be used in 'await' expression</failure></testcase><testcase classname="tests.integration.test_indexing_integration.TestIndexingIntegration" name="test_error_recovery" time="0.024"><failure message="TypeError: object dict can't be used in 'await' expression">tests/integration/test_indexing_integration.py:169: in test_error_recovery
    result = await indexer_instance.index_folder(test_dir)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/eol/rag_context/indexer.py:302: in index_folder
    existing = await self._get_indexed_source(source_id)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/eol/rag_context/indexer.py:714: in _get_indexed_source
    data = await self.redis.redis.hgetall(source_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: object dict can't be used in 'await' expression</failure></testcase><testcase classname="tests.integration.test_indexing_integration.TestIndexingIntegration" name="test_metadata_extraction" time="0.032"><failure message="redis.exceptions.DataError: Invalid input of type: 'NoneType'. Convert to a bytes, string, int or float first.">tests/integration/test_indexing_integration.py:186: in test_metadata_extraction
    result = await indexer_instance.index_file(test_file, "metadata_test")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/eol/rag_context/indexer.py:428: in index_file
    chunks_indexed = await self._index_chunks(doc, base_metadata, sections)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/eol/rag_context/indexer.py:649: in _index_chunks
    await self.redis.store_document(vector_doc)
src/eol/rag_context/redis_client.py:242: in store_document
    await self.async_redis.hset(key, mapping=data)
.venv/lib/python3.13/site-packages/redis/asyncio/client.py:677: in execute_command
    return await conn.retry.call_with_retry(
.venv/lib/python3.13/site-packages/redis/asyncio/retry.py:50: in call_with_retry
    return await do()
           ^^^^^^^^^^
.venv/lib/python3.13/site-packages/redis/asyncio/client.py:651: in _send_command_parse_response
    await conn.send_command(*args)
.venv/lib/python3.13/site-packages/redis/asyncio/connection.py:560: in send_command
    self.pack_command(*args), check_health=kwargs.get("check_health", True)
    ^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/redis/asyncio/connection.py:647: in pack_command
    for arg in map(self.encoder.encode, args):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/redis/_parsers/encoders.py:29: in encode
    raise DataError(
E   redis.exceptions.DataError: Invalid input of type: 'NoneType'. Convert to a bytes, string, int or float first.</failure></testcase><testcase classname="tests.integration.test_indexing_integration.TestIndexingIntegration" name="test_concurrent_indexing" time="0.034"><failure message="AssertionError: assert 0 == 1&#10; +  where 0 = len([])&#10; +  and   1 = len([PosixPath('/var/folders/7s/rtpwblkj7gl9ct0zg8481g_40000gn/T/tmpq4m6prpm/test.py')])">tests/integration/test_indexing_integration.py:210: in test_concurrent_indexing
    assert len(successful) == len(files)
E   AssertionError: assert 0 == 1
E    +  where 0 = len([])
E    +  and   1 = len([PosixPath('/var/folders/7s/rtpwblkj7gl9ct0zg8481g_40000gn/T/tmpq4m6prpm/test.py')])</failure></testcase><testcase classname="tests.integration.test_indexing_integration.TestIndexingIntegration" name="test_indexing_stats" time="0.027"><failure message="TypeError: object dict can't be used in 'await' expression">tests/integration/test_indexing_integration.py:219: in test_indexing_stats
    await indexer_instance.index_folder(temp_test_directory)
src/eol/rag_context/indexer.py:302: in index_folder
    existing = await self._get_indexed_source(source_id)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/eol/rag_context/indexer.py:714: in _get_indexed_source
    data = await self.redis.redis.hgetall(source_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: object dict can't be used in 'await' expression</failure></testcase><testcase classname="tests.integration.test_redis_integration.TestRedisIntegration" name="test_connection" time="0.014" /><testcase classname="tests.integration.test_redis_integration.TestRedisIntegration" name="test_store_and_retrieve_document" time="0.015"><failure message="AssertionError: assert b'content' in {}">tests/integration/test_redis_integration.py:51: in test_store_and_retrieve_document
    assert b"content" in stored_data
E   AssertionError: assert b'content' in {}</failure></testcase><testcase classname="tests.integration.test_redis_integration.TestRedisIntegration" name="test_vector_search" time="0.022"><failure message="AssertionError: assert 'id' in ('search_doc_2', 0.906290233135, {'children': [], 'content': 'Document 2 with unique content for testing.', 'metadata': {'index': 2, 'type': 'search_test'}, 'parent': None})">tests/integration/test_redis_integration.py:86: in test_vector_search
    assert "id" in result
E   AssertionError: assert 'id' in ('search_doc_2', 0.906290233135, {'children': [], 'content': 'Document 2 with unique content for testing.', 'metadata': {'index': 2, 'type': 'search_test'}, 'parent': None})</failure></testcase><testcase classname="tests.integration.test_redis_integration.TestRedisIntegration" name="test_hierarchical_search" time="0.025"><failure message="TypeError: RedisVectorStore.hierarchical_search() got an unexpected keyword argument 'max_results'">tests/integration/test_redis_integration.py:111: in test_hierarchical_search
    results = await redis_store.hierarchical_search(
E   TypeError: RedisVectorStore.hierarchical_search() got an unexpected keyword argument 'max_results'</failure></testcase><testcase classname="tests.integration.test_redis_integration.TestRedisIntegration" name="test_document_tree" time="0.018" /><testcase classname="tests.integration.test_redis_integration.TestRedisIntegration" name="test_batch_operations" time="0.021"><failure message="AssertionError: assert b'content' in {}">tests/integration/test_redis_integration.py:183: in test_batch_operations
    assert b"content" in data
E   AssertionError: assert b'content' in {}</failure></testcase><testcase classname="tests.integration.test_redis_integration.TestRedisIntegration" name="test_filtered_search" time="0.022"><failure message="redis.exceptions.ResponseError: Syntax error at offset 25 near technology">tests/integration/test_redis_integration.py:207: in test_filtered_search
    results = await redis_store.vector_search(
src/eol/rag_context/redis_client.py:291: in vector_search
    results = await self.async_redis.ft(index_name).search(
.venv/lib/python3.13/site-packages/redis/commands/search/commands.py:959: in search
    res = await self.execute_command(SEARCH_CMD, *args, **options)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/redis/asyncio/client.py:677: in execute_command
    return await conn.retry.call_with_retry(
.venv/lib/python3.13/site-packages/redis/asyncio/retry.py:50: in call_with_retry
    return await do()
           ^^^^^^^^^^
.venv/lib/python3.13/site-packages/redis/asyncio/client.py:652: in _send_command_parse_response
    return await self.parse_response(conn, command_name, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/redis/asyncio/client.py:695: in parse_response
    response = await connection.read_response(disable_decoding=True)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/redis/asyncio/connection.py:627: in read_response
    raise response from None
E   redis.exceptions.ResponseError: Syntax error at offset 25 near technology</failure></testcase><testcase classname="tests.integration.test_redis_integration.TestRedisIntegration" name="test_index_creation" time="0.016" /><testcase classname="tests.integration.test_redis_integration.TestRedisIntegration" name="test_concurrent_operations" time="0.027" /><testcase classname="tests.integration.test_redis_integration.TestRedisIntegration" name="test_cleanup" time="0.014" /><testcase classname="tests.integration.test_tutorial_examples.TestTutorialExamples" name="test_basic_usage_starting_server" time="0.026" /><testcase classname="tests.integration.test_tutorial_examples.TestTutorialExamples" name="test_indexing_single_file" time="0.035"><failure message="AttributeError: 'EOLRAGContextServer' object has no attribute 'index_directory'">tests/integration/test_tutorial_examples.py:54: in test_indexing_single_file
    result = await server.index_directory(str(test_file))
                   ^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'EOLRAGContextServer' object has no attribute 'index_directory'</failure></testcase><testcase classname="tests.integration.test_tutorial_examples.TestTutorialExamples" name="test_indexing_directory" time="0.033"><failure message="AttributeError: 'EOLRAGContextServer' object has no attribute 'index_directory'">tests/integration/test_tutorial_examples.py:71: in test_indexing_directory
    result = await server.index_directory(
                   ^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'EOLRAGContextServer' object has no attribute 'index_directory'</failure></testcase><testcase classname="tests.integration.test_tutorial_examples.TestTutorialExamples" name="test_watch_for_changes" time="0.036"><failure message="AttributeError: 'EOLRAGContextServer' object has no attribute 'watch_directory'">tests/integration/test_tutorial_examples.py:96: in test_watch_for_changes
    watch_result = await server.watch_directory(
                         ^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'EOLRAGContextServer' object has no attribute 'watch_directory'</failure></testcase><testcase classname="tests.integration.test_tutorial_examples.TestTutorialExamples" name="test_basic_search" time="0.034"><failure message="AttributeError: 'EOLRAGContextServer' object has no attribute 'index_directory'">tests/integration/test_tutorial_examples.py:119: in test_basic_search
    await server.index_directory(str(temp_test_directory))
          ^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'EOLRAGContextServer' object has no attribute 'index_directory'</failure></testcase><testcase classname="tests.integration.test_tutorial_examples.TestTutorialExamples" name="test_hierarchical_search" time="0.033"><failure message="AttributeError: 'EOLRAGContextServer' object has no attribute 'index_directory'">tests/integration/test_tutorial_examples.py:146: in test_hierarchical_search
    await server.index_directory(str(temp_test_directory))
          ^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'EOLRAGContextServer' object has no attribute 'index_directory'</failure></testcase><testcase classname="tests.integration.test_tutorial_examples.TestTutorialExamples" name="test_search_with_filters" time="0.032"><failure message="AttributeError: 'EOLRAGContextServer' object has no attribute 'index_directory'">tests/integration/test_tutorial_examples.py:176: in test_search_with_filters
    await server.index_directory(str(temp_test_directory))
          ^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'EOLRAGContextServer' object has no attribute 'index_directory'</failure></testcase><testcase classname="tests.integration.test_tutorial_examples.TestTutorialExamples" name="test_knowledge_graph_queries" time="0.025"><error message="failed on setup with &quot;TypeError: KnowledgeGraphBuilder.__init__() missing 1 required positional argument: 'embedding_manager'&quot;">.venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py:696: in pytest_fixture_setup
    hook_result = yield
                  ^^^^^
.venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py:321: in _async_fixture_wrapper
    result = runner.run(setup(), context=context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py:317: in setup
    res = await fixture_function(*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/integration/conftest.py:212: in knowledge_graph_instance
    return knowledge_graph.KnowledgeGraphBuilder(redis_store)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: KnowledgeGraphBuilder.__init__() missing 1 required positional argument: 'embedding_manager'</error></testcase><testcase classname="tests.integration.test_tutorial_examples.TestTutorialExamples" name="test_semantic_caching" time="0.036"><failure message="AttributeError: 'EOLRAGContextServer' object has no attribute 'index_directory'">tests/integration/test_tutorial_examples.py:231: in test_semantic_caching
    await server.index_directory(str(temp_test_directory))
          ^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'EOLRAGContextServer' object has no attribute 'index_directory'</failure></testcase><testcase classname="tests.integration.test_tutorial_examples.TestTutorialExamples" name="test_context_windows_management" time="0.033"><failure message="AttributeError: 'EOLRAGContextServer' object has no attribute 'index_directory'">tests/integration/test_tutorial_examples.py:262: in test_context_windows_management
    await server.index_directory(str(temp_test_directory))
          ^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'EOLRAGContextServer' object has no attribute 'index_directory'</failure></testcase><testcase classname="tests.integration.test_tutorial_examples.TestTutorialExamples" name="test_code_assistant_example" time="0.033"><failure message="AttributeError: 'EOLRAGContextServer' object has no attribute 'index_directory'">tests/integration/test_tutorial_examples.py:317: in test_code_assistant_example
    context = await code_assistant()
              ^^^^^^^^^^^^^^^^^^^^^^
tests/integration/test_tutorial_examples.py:292: in code_assistant
    await server.index_directory(
          ^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'EOLRAGContextServer' object has no attribute 'index_directory'</failure></testcase><testcase classname="tests.integration.test_tutorial_examples.TestTutorialExamples" name="test_documentation_search_example" time="0.036"><failure message="AttributeError: 'EOLRAGContextServer' object has no attribute 'index_directory'">tests/integration/test_tutorial_examples.py:358: in test_documentation_search_example
    docs = await search_docs("test")
           ^^^^^^^^^^^^^^^^^^^^^^^^^
tests/integration/test_tutorial_examples.py:330: in search_docs
    await server.index_directory(str(temp_test_directory))
          ^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'EOLRAGContextServer' object has no attribute 'index_directory'</failure></testcase><testcase classname="tests.integration.test_tutorial_examples.TestTutorialExamples" name="test_batch_operations" time="0.034"><failure message="AttributeError: 'EOLRAGContextServer' object has no attribute 'index_directory'">tests/integration/test_tutorial_examples.py:388: in test_batch_operations
    results = await batch_index(server, files)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/integration/test_tutorial_examples.py:376: in batch_index
    server.index_directory(str(f))
    ^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'EOLRAGContextServer' object has no attribute 'index_directory'</failure></testcase><testcase classname="tests.integration.test_tutorial_examples.TestTutorialExamples" name="test_context_optimization_for_llm" time="0.001" /><testcase classname="tests.integration.test_tutorial_examples.TestTutorialExamples" name="test_health_check_example" time="0.025"><error message="failed on setup with &quot;TypeError: KnowledgeGraphBuilder.__init__() missing 1 required positional argument: 'embedding_manager'&quot;">.venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py:696: in pytest_fixture_setup
    hook_result = yield
                  ^^^^^
.venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py:321: in _async_fixture_wrapper
    result = runner.run(setup(), context=context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py:317: in setup
    res = await fixture_function(*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/integration/conftest.py:212: in knowledge_graph_instance
    return knowledge_graph.KnowledgeGraphBuilder(redis_store)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: KnowledgeGraphBuilder.__init__() missing 1 required positional argument: 'embedding_manager'</error></testcase><testcase classname="tests.integration.test_tutorial_examples.TestTutorialExamples" name="test_smart_indexing_strategy" time="0.040"><failure message="AttributeError: 'EOLRAGContextServer' object has no attribute 'index_directory'">tests/integration/test_tutorial_examples.py:527: in test_smart_indexing_strategy
    results = await smart_indexing(server, temp_test_directory)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/integration/test_tutorial_examples.py:488: in smart_indexing
    result = await server.index_directory(
                   ^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'EOLRAGContextServer' object has no attribute 'index_directory'</failure></testcase></testsuite></testsuites>